
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../changelog/">
      
      
        <link rel="next" href="../contrib/">
      
      
        
      
      
      <link rel="icon" href="../gitlabform-logo-favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>‚è´ Upgrading - GitLabForm</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#upgrading-to-new-major-versions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GitLabForm" class="md-header__button md-logo" aria-label="GitLabForm" data-md-component="logo">
      
  <img src="../gitlabform-logo-favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GitLabForm
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ‚è´ Upgrading
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/gitlabform/gitlabform/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GitLabForm" class="md-nav__button md-logo" aria-label="GitLabForm" data-md-component="logo">
      
  <img src="../gitlabform-logo-favicon.png" alt="logo">

    </a>
    GitLabForm
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gitlabform/gitlabform/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üèó GitLabForm
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ‚ú® Features
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ü´¥ Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üíæ Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    üìã Configuration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    üìã Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/archive_unarchive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archive/unarchive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/avatar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Avatar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/badges/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Badges
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/protected_branches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Branches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/ci_cd_variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/job_token_scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD Job Token Scope
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/deploy_keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploy Keys
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/group_ldap_links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Group LDAP links
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/group_saml_links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Group SAML links
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/labels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Labels
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/members/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Members
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/merge_requests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Merge Requests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/pipeline_schedules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipeline schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/project_security_settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project security settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/protected_environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protected environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/push_mirrors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Push mirrors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/push_rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Push rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/resource_groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource groups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tags_protection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags protection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/project_transfer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transfer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../running/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üèÉ Running
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ü§ñ Automation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üóì Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    ‚è´ Upgrading
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    ‚è´ Upgrading
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#from-4-to-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 4.* to 5.*
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="From 4.* to 5.*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-config_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update config_version
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update config_version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-deprecated-mr-approval-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remove deprecated MR approval config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-config-syntax-for-group-saml-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update config syntax for group saml links
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-protection-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Branch Protection Changes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Branch Protection Changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protected-key-is-mandatory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Protected key is Mandatory
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-3-to-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 3.* to 4.*
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-2-to-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 2.* to 3.*
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-1-to-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 1.* to 2.*
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../contrib/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    üôã Contributing
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    üôã Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contrib/local_development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contrib/implementation_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementation Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contrib/coding_guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coding Guidelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contrib/releases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Releases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../similar_apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ‚öñÔ∏è Similar Apps
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#from-4-to-5" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 4.* to 5.*
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="From 4.* to 5.*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-config_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update config_version
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update config_version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-deprecated-mr-approval-config" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remove deprecated MR approval config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-config-syntax-for-group-saml-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update config syntax for group saml links
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-protection-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Branch Protection Changes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Branch Protection Changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protected-key-is-mandatory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Protected key is Mandatory
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-3-to-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 3.* to 4.*
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-2-to-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 2.* to 3.*
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-1-to-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        From 1.* to 2.*
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="upgrading-to-new-major-versions">Upgrading to new major versions<a class="headerlink" href="#upgrading-to-new-major-versions" title="Permanent link">&para;</a></h1>
<p>Some of these changes between major application versions may affect the effective configuration that would be applied if you run the application. Therefore to do the upgrade safely please follow this procedure.</p>
<h2 id="from-4-to-5">From 4.* to 5.*<a class="headerlink" href="#from-4-to-5" title="Permanent link">&para;</a></h2>
<h3 id="update-config_version">Update <code>config_version</code><a class="headerlink" href="#update-config_version" title="Permanent link">&para;</a></h3>
<p>Update <code>config_version</code> to <code>4</code>. Then update configuration syntax as described in following sections.</p>
<h4 id="remove-deprecated-mr-approval-config">Remove deprecated MR approval config<a class="headerlink" href="#remove-deprecated-mr-approval-config" title="Permanent link">&para;</a></h4>
<p>GitLabForm v5 removed configuration syntax for merge request approval settings that were deprecated in v3. In addition, following config will not be processed anymore.</p>
<div class="highlight"><pre><span></span><code><span class="nt">config_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w">  </span><span class="nt">group_1/project_1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">merge_requests</span><span class="p">:</span>
<span class="w">      </span><span class="nt">approvals</span><span class="p">:</span>
<span class="w">        </span><span class="nt">approvals_before_merge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">        </span><span class="nt">reset_approvals_on_push</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">disable_overriding_approvers_per_merge_request</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">approvers</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user1</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user2</span>
<span class="w">      </span><span class="nt">approver_groups</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-group</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-group1/subgroup</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-group2/subgroup/subsubgroup</span>
<span class="w">      </span><span class="nt">remove_other_approval_rules</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
<p>New config syntax supported as of GitLabForm v3.4.0:</p>
<div class="highlight"><pre><span></span><code><span class="nt">config_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w">  </span><span class="nt">group_1/project_1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">merge_requests_approvals</span><span class="p">:</span>
<span class="w">      </span><span class="nt">disable_overriding_approvers_per_merge_request</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">merge_requests_approval_rules</span><span class="p">:</span>
<span class="w">      </span><span class="nt">any</span><span class="p">:</span><span class="w"> </span><span class="c1"># this is just a label</span>
<span class="w">        </span><span class="nt">approvals_required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Any</span><span class="nv"> </span><span class="s">member&quot;</span>
<span class="w">        </span><span class="nt">rule_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">any_approver</span>
<span class="w">      </span><span class="nt">enforce</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h4 id="update-config-syntax-for-group-saml-links">Update config syntax for group saml links<a class="headerlink" href="#update-config-syntax-for-group-saml-links" title="Permanent link">&para;</a></h4>
<p>In previous versions of GitLabForm, saml links at a group level were under <code>saml_group_links</code>. This key has been renamed to <code>group_saml_links</code> to be consistent with other group level configuration syntax.</p>
<div class="highlight"><pre><span></span><code><span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w">  </span><span class="nt">group_1/*</span><span class="p">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain"><del class="critic">saml-group-links:</del></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain"><ins class="critic">group_saml_links:</ins></span><span class="w"> </span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">devops_are_maintainers</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="c1"># this is just a label</span>
<span class="w">        </span><span class="nt">saml_group_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devops</span>
<span class="w">        </span><span class="nt">access_level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maintainer</span>
</code></pre></div>
<h3 id="branch-protection-changes">Branch Protection Changes<a class="headerlink" href="#branch-protection-changes" title="Permanent link">&para;</a></h3>
<p>In GitLabForm v4, branch protection config introduced a bug. GitLabForm would remove and re-add branch protection on every run, because GitLab's API did not support in-place updates. Besides causing audit noise because of constant change, this approach reset all unspecified attributes to GitLab defaults, breaking GitLabForm‚Äôs core behavior of <a href="../reference/#raw-parameters-passing">raw parameter passing</a> ‚Äî where only explicitly configured values are sent, and unspecified ones are left untouched.</p>
<p>This unintended consequence meant:</p>
<ul>
<li>A user configuring only some protection attributes (e.g. <code>push_access_level</code>) would find others reset to default (e.g. <code>code_owner_approval_required</code>) on re-run.</li>
<li>GitLabForm was no longer idempotent unless all settings were always provided.</li>
</ul>
<p>This issue is being fixed by following original intended behaviour of GitLabForm. Therefore, if you wish to ensure the Protected Branch settings are applied as you intend when running GitlabForm you should define some defaults explicitly:</p>
<div class="highlight"><pre><span></span><code><span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w"> </span><span class="nt">my-group/*</span><span class="p">:</span>
<span class="w">   </span><span class="nt">branches</span><span class="p">:</span>
<span class="w">     </span><span class="nt">main</span><span class="p">:</span>
<span class="w">       </span><span class="nt">protected</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">       </span><span class="nt">allow_force_push</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">       </span><span class="nt">code_owner_approval_required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h4 id="protected-key-is-mandatory">Protected key is Mandatory<a class="headerlink" href="#protected-key-is-mandatory" title="Permanent link">&para;</a></h4>
<p>The documentation has always mandated that the <code>protected</code> key must be present in GitlabForm configuration, set to either <code>true</code> or <code>false</code>.</p>
<p>From v5 GitlabForm will exit Fatally if there is a branch under <code>branches</code> configuration <em>without</em> the protected key, for example the following will now error fatally:
<div class="highlight"><pre><span></span><code><span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w"> </span><span class="nt">my-group/*</span><span class="p">:</span>
<span class="w">   </span><span class="nt">branches</span><span class="p">:</span>
<span class="w">     </span><span class="nt">main</span><span class="p">:</span>
<span class="w">       </span><span class="c1"># This configuration is now invalid due to lacking the `protected` flag and will cause GitlabForm to fail</span>
<span class="w">       </span><span class="nt">allow_force_push</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">       </span><span class="nt">code_owner_approval_required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">     </span><span class="nt">my_other_protected_branch</span><span class="p">:</span>
<span class="w">       </span><span class="c1"># Valid configuration</span>
<span class="w">       </span><span class="nt">protected</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<h2 id="from-3-to-4">From 3.* to 4.*<a class="headerlink" href="#from-3-to-4" title="Permanent link">&para;</a></h2>
<p>Relatively minor breaking-change, we dropped support for Python &lt; 3.12, so if you are running locally using Python rather than Docker, ensure you are using Python &gt; 3.12</p>
<h2 id="from-2-to-3">From 2.* to 3.*<a class="headerlink" href="#from-2-to-3" title="Permanent link">&para;</a></h2>
<p>Steps outline:</p>
<ol>
<li>Update to the latest v2.x.x and <strong>fix all the deprecation warnings the application prints out during run</strong>. The syntax deprecated in v2 has been removed in v3.</li>
<li>Stop v2 from running automatically (if you have such automation).</li>
<li>
<p>In your config:</p>
<ul>
<li>In v3 a bug that caused subgroup config to not inherit its group config has been fixed. If you do have configs for some groups and a config for their subgroups, then your effective configuration may change after the upgrade to v3. If you do not want that, or you are not sure, then please do the following to keep the old behavior: add <code>inherit: false</code> entries to all of such subgroups config, under each configuration section:
Example:
<div class="highlight"><pre><span></span><code><span class="nt">projects_and_groups</span><span class="p">:</span>
<span class="w">  </span><span class="nt">some_group/*</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group_settings</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project_creation_level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maintainer</span>
<span class="w">      </span><span class="nt">subgroup_creation_level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">owner</span>
<span class="w">      </span><span class="nt">visibility</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal</span>

<span class="w">  </span><span class="nt">some_group/subgroup/*</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group_settings</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># add the line below to keep the old behavior</span>
<span class="w">      </span><span class="nt">inherit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">project_creation_level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">developer</span>

<span class="w">  </span><span class="nt">some_group/subgroup/subsubgroup/*</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group_settings</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># add the line below to keep the old behavior</span>
<span class="w">      </span><span class="nt">inherit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">visibility</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">private</span>
</code></pre></div></li>
<li>Replace <code>services:</code> with <code>integrations:</code>,</li>
<li>Replace <code>secret_variables:</code> with <code>variables:</code>,</li>
<li>Replace <code>group_secret_variables:</code> with <code>group_variables:</code>,</li>
<li>Replace <code>config_version: 2</code> with <code>config_version: 3</code></li>
<li>Update <code>merge_requests:</code>; <code>approvals_before_merge:</code> needs to be defined
  in specific approval rule</li>
</ul>
</li>
<li>
<p>Upgrade the app from v2 to v3.</p>
</li>
<li>Re-enable v3 to run automatically (if you have such automation).</li>
</ol>
<h2 id="from-1-to-2">From 1.* to 2.*<a class="headerlink" href="#from-1-to-2" title="Permanent link">&para;</a></h2>
<p>Steps outline:</p>
<ol>
<li>Generate effective configuration that is applied when you run v1 and keep it. Update to &gt;= v1.23.0 first, as we added the feature to output the effective config to file to that version. Add these parameters to your regular ones: <code>--output-file v1_configuration.yaml</code>. You may also add <code>-n</code> to run it in a noop mode. Save the generated YAML.</li>
<li>Stop v1 from running automatically (if you have such automation).</li>
<li>
<p>Upgrade to v2 and update the configuration syntax. The major syntax changes are:</p>
<ul>
<li>add <code>config_version: 2</code>,</li>
<li>remove <code>api_version: 4</code>,</li>
<li>common, group and project configs are now all under a single <code>projects_and_groups</code> key,</li>
<li>if you have <code>common_settings</code> section then move it under a new key <code>"*"</code> under <code>projects_and_groups</code>,</li>
<li>if you have <code>groups_settings</code> or <code>projects_settings</code> then move their contents to be under all under <code>projects_and_groups</code>,</li>
<li>for each group config replace <code>&lt;group name&gt;:</code> with <code>&lt;group name&gt;/*:</code>.</li>
<li>leave project configs unchanged.</li>
</ul>
</li>
<li>
<p>Generate effective configuration that is applied when you run v2 using "noop" mode. Add these parameters to your regular ones: <code>--output-file v2_configuration.yaml --noop --include-archived-projects</code>. (The last one is needed to have the projects list to process the same as for v1, as v2 by default skips the archived projects.) Save the generated YAML file.</p>
</li>
<li>Compare the YAML files with effective configuration from v1 to v2 and correct the configuration to get either exactly the same result or acceptable differences.</li>
<li>Run v2 without the "noop" mode and review the results. Look for failures and exit code different from 0. Fix found issues.</li>
<li>Re-enable v2 to run automatically (if you have such automation).</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.indexes"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>